CTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeetCode Timer</title>
    <style>
        /* ... (styles from previous response remain the same) ... */
        #timeInput {
            margin-top: 10px;
            padding: 5px;
            font-size: 1em;
            width: 50px; /* Adjust width as needed */
        }

        #timeInput:invalid {
            border-color: red; /* Indicate invalid input */
        }

        button.urgent {
            background-color: #800; /* Darker red for urgent state */
        }
        #result {
            margin-top: 10px;
            font-size: 1.2em;
            color: green; /* Success color */
        }

    </style>
</head>
<body>

    <h1>LeetCode Timer</h1>
    <label for="timeInput">Minutes:</label>
    <input type="number" id="timeInput" min="1" value="10">
    <div id="timer">10:00</div>
    <button id="startBtn">Start</button>
    <button id="doneBtn">Done</button>
    <button id="moreTimeBtn">More Time</button>
    <div id="message">TIME IS UP!</div>
    <div id="result"></div>


    <script>
        let startTime;
        let endTime;
        let originalTime; // Store the original time
        let timerDisplay = document.getElementById('timer');
        let startBtn = document.getElementById('startBtn');
        let doneBtn = document.getElementById('doneBtn');
        let moreTimeBtn = document.getElementById('moreTimeBtn');
        let message = document.getElementById('message');
        let resultDisplay = document.getElementById('result');
        let timeInput = document.getElementById('timeInput');
        let intervalId;

        // ... (updateTimer function remains the same) ...

        startBtn.addEventListener('click', () => {
            let minutes = parseInt(timeInput.value);
            if (isNaN(minutes) || minutes < 1) {
                timeInput.reportValidity(); // Trigger HTML5 form validation
                return;
            }
            startTimer(minutes);
        });

        doneBtn.addEventListener('click', () => {
            clearInterval(intervalId);
            let result = prompt("Enter your LeetCode submission result (e.g., Accepted, Wrong Answer):", "Accepted"); // Or get result from elsewhere
            if (result) {
                resultDisplay.textContent = "Result: " + result;
            }
            timerDisplay.textContent = "Timer stopped.";
            message.style.visibility = "hidden";
        });


        moreTimeBtn.addEventListener('click', () => {
            if (!originalTime) return; // Can't add time if timer hasn't started

            let additionalTime = Math.floor(originalTime * 0.4); // 40% of original
            let newEndTime = endTime + additionalTime * 60 * 1000;

            endTime = newEndTime;
            updateTimer();
            timerDisplay.classList.add('urgent'); // Make timer red

        });


        function startTimer(minutes) {
            startTime = new Date().getTime();
            originalTime = minutes; // Store original time
            endTime = startTime + minutes * 60 * 1000;
            message.style.visibility = "hidden";
            resultDisplay.textContent = ""; // Clear previous results
            timerDisplay.classList.remove('urgent'); // Reset timer color
            clearInterval(intervalId);
            updateTimer();
            intervalId = setInterval(updateTimer, 1000);
        }
    </script>

</body>
</html>

